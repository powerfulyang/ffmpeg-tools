# FFmpeg Tools - MOV to WebM è½¬æ¢å™¨

ä¸€ä¸ªåŸºäº Wails v2 å’Œ Vue 3 å¼€å‘çš„æ¡Œé¢åº”ç”¨ç¨‹åºï¼Œä¸“é—¨ç”¨äºå°† MOV è§†é¢‘è½¬æ¢ä¸ºæ”¯æŒé€æ˜é€šé“çš„ VP9 ç¼–ç  WebM æ ¼å¼ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- **é«˜æ•ˆè½¬æ¢**: å°† MOV è§†é¢‘è½¬æ¢ä¸º VP9 ç¼–ç çš„ WebM æ ¼å¼ã€‚
- **é€æ˜é€šé“**: å®Œç¾ä¿ç•™è§†é¢‘çš„ Alpha é€šé“ï¼ˆé€æ˜èƒŒæ™¯ï¼‰ã€‚
- **æ™ºèƒ½æ¢æµ‹**: è‡ªåŠ¨è¯†åˆ«è§†é¢‘åˆ†è¾¨ç‡ã€å¸§ç‡ã€ç¼–ç åŠé€æ˜åº¦ä¿¡æ¯ã€‚
- **è¿›åº¦å®æ—¶åŒ–**: è½¬æ¢è¿‡ç¨‹ä¸­å®æ—¶åé¦ˆç™¾åˆ†æ¯”è¿›åº¦ã€‚
- **å‚æ•°è°ƒä¼˜**: æ”¯æŒè‡ªå®šä¹‰ CRF (0-63) è´¨é‡å‚æ•°ã€‚
- **é›¶é…ç½®ç¯å¢ƒ**: åº”ç”¨å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨æ£€æŸ¥å¹¶ä» CDN ä¸‹è½½å¯¹åº”å¹³å°çš„ FFmpeg äºŒè¿›åˆ¶æ–‡ä»¶ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **åç«¯**: [Go](https://go.dev/) + [Wails v2](https://wails.io/)
- **å‰ç«¯**: [Vue 3](https://vuejs.org/) + [Vite](https://vitejs.dev/)
- **æ ¸å¿ƒå¼•æ“**: [FFmpeg](https://ffmpeg.org/) (é€šè¿‡ `ffmpeg-static` è‡ªåŠ¨åˆ†å‘)

## ğŸ“ é¡¹ç›®ç»“æ„

```text
ffmpeg-tools/
â”œâ”€â”€ main.go            # Wails åº”ç”¨å…¥å£
â”œâ”€â”€ app.go             # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ (ç»‘å®šåˆ°å‰ç«¯)
â”œâ”€â”€ internal/
â”‚   â””â”€â”€ ffmpeg/        # FFmpeg å°è£…å±‚ (è½¬æ¢ä¸ä¸‹è½½é€»è¾‘)
â”œâ”€â”€ frontend/          # Vue 3 å‰ç«¯æºç 
â””â”€â”€ ~/.ffmpeg-tools/   # FFmpeg äºŒè¿›åˆ¶æ–‡ä»¶å­˜æ”¾è·¯å¾„ (è·¨åº”ç”¨å…±äº«)
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ææ¡ä»¶

- [Go](https://go.dev/dl/) 1.21+
- [Node.js](https://nodejs.org/) 18+
- [Wails CLI](https://wails.io/docs/gettingstarted/installation)

### å¼€å‘æ¨¡å¼

1. å®‰è£…ä¾èµ–ï¼š
   ```bash
   cd frontend && pnpm install
   ```

2. è¿è¡Œå¼€å‘æœåŠ¡å™¨ï¼š
   ```bash
   wails dev
   ```

### ç”Ÿäº§æ„å»º

```bash
# æ„å»ºå¯¹åº”çš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬
wails build
```

ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶å°†ä½äº `build/bin/` ç›®å½•ä¸‹ã€‚

## ğŸ“¦ FFmpeg è¿è¡Œæ—¶

æœ¬ç¨‹åºä¸éœ€è¦ç”¨æˆ·æ‰‹åŠ¨å®‰è£… FFmpegã€‚åœ¨é¦–æ¬¡è¿è¡Œæˆ–æ‰¾ä¸åˆ°ç¯å¢ƒæ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶åˆ°ä»¥ä¸‹ç›®å½•ï¼š
- **Windows/macOS**: `~/.ffmpeg-tools/`

ç¨‹åºä¼šè‡ªåŠ¨æ£€æµ‹ï¼š
1. ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­çš„ `ffmpeg`ã€‚
2. `~/.ffmpeg-tools/` ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚

## ğŸï¸ è½¬æ¢å‚æ•°å‚è€ƒ

åº”ç”¨å†…éƒ¨ä½¿ç”¨çš„æ ¸å¿ƒ FFmpeg æŒ‡ä»¤å¦‚ä¸‹ï¼š

```bash
ffmpeg -i input.mov \
  -c:v libvpx-vp9 \
  -vf "premultiply=inplace=1" \
  -pix_fmt yuva420p \
  -color_range pc \
  -crf 30 \
  -b:v 0 \
  -auto-alt-ref 0 \
  -metadata:s:v:0 alpha_mode=1 \
  -an \
  output.webm
```

## ğŸ“„ è®¸å¯è¯

[MIT License](LICENSE)
